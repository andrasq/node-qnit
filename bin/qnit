#!/usr/bin/env node

/**
 * qnit -- simple unit test runner, like nodeunit
 *
 * Copyright (C) 2015 Andras Radics
 * Licensed under the Apache License, Version 2.0
 */

var package = require('../package.json');

var VERSION = package.version;

var fs = require('fs');
var tty = require('tty');
var getopt = require('../deps/getopt').getopt;
var qunit = require('../lib/qunit.js');
var parseOptions = require('../lib/parseopt.js');


var suiteOptions = parseOptions(process.argv, VERSION);
if (!suiteOptions) return;

var argv = process.argv.slice(2);
if (argv.length <= 0) argv = ['test'];

var runner = qunit.runSuite(argv, suiteOptions, function(err) {
    if (!suiteOptions.noExit) process.exit(err ? 2 : 0);
});
